!function(p,e,a,t){var r="iframeify",i={containerSelector:".ifr-iframe",classPrefix:"ifr",stylesheetClass:!1,bodyClass:"ifr-active",onWindowResize:!1},f={breakpoints:{},hasSetBreakpoints:!1,mediaQueryRules:!1,iframes:[],stylesheets:[],styleClass:"ifr-styles",styleElement:[],eventNameSpace:"plugin_"+r,plugin:!1,pluginElement:!1,onWindowResize:!1};function l(e,t){this.element=e,this.$element=p(e),this.options=p.extend({},i,t),this._defaults=i,this._name=r,this.init()}p.extend(l.prototype={init:function(){var s;if(this&&this.options)s=this;else{if(!f.plugin||!f.plugin.options)throw new Error("No plugin object found");s=f.plugin}s.options.classPrefix;var e=p(s.options.containerSelector);f.iframes=e,f.classPrefix=s.options.classPrefix,f.onWindowResize=s.options.onWindowResize,f.styleClass=s.options.classPrefix+"-styles",f.plugin=s,f.pluginElement=this.$element;var t=a.styleSheets,i=t;if(s.options.stylesheetClass){var n=s.options.stylesheetClass;i=p.map(t,function(e,t){if(p(e.ownerNode).hasClass(n))return e})}f.stylesheets=i,s.setMediaQueries(s),p.each(f.iframes,function(e,t){var i=p(t);s.initIframe(i,s)})},initIframe:function(t,i){t.on("mousedown."+f.eventNameSpace,function(e){p(a).on("mousemove."+f.eventNameSpace,function(){i.matchMediaQueries(t)}),p(a).on("mouseup."+f.eventNameSpace,function(){p(a).off("mousemove."+f.eventNameSpace)})}),i.matchMediaQueries(t)},setMediaQueries:function(e){if(f.styleElement&&f.styleElement.length<1){var t=p("<style></style>").addClass(f.styleClass);p(a).find("head").append(t),f.styleElement=t}if(f.hasSetBreakpoints&&f.mediaQueryRules)f.styleElement.append(f.mediaQueryRules);else if(!f.hasSetBreakpoints&&!f.mediaQueryRules){var i=f.stylesheets,c="";p.each(i,function(u,h){h.cssRules.length;var m=0;p.each(h.cssRules,function(e,t){if(0,t.media&&t.media[0]&&(-1<t.media[0].indexOf("max-width")||-1<t.media[0].indexOf("min-width"))){var i=f.classPrefix+"-ss"+u+"r"+e,n="",a="."+i;p.each(t.cssRules,function(e,t){if(t.selectorText){var i=t.selectorText.split(","),s=t.cssText.match(/\{.*\}/);p.each(i,function(e,t){n=n+" "+a+" "+t+s})}}),c+=n,f.styleElement.append(n);var s=t.media[0].match(/[0-9]+/g);s=p.map(s,Number);var l=t,o=e,r=o-m,d=h;f.breakpoints[i]={maxWidth:!1,minWidth:!1,deletedRule:l,deletedRulePosition:r,addRulePosition:o,deletedFromStylesheet:d,px:s},-1<t.media[0].indexOf("max-width")&&-1<t.media[0].indexOf("min-width")?(f.breakpoints[i].maxWidth=!0,f.breakpoints[i].minWidth=!0,m++):-1<t.media[0].indexOf("max-width")?f.breakpoints[i].maxWidth=!0:-1<t.media[0].indexOf("min-width")&&(f.breakpoints[i].minWidth=!0,m++)}})}),f.mediaQueryRules=c,f.hasSetBreakpoints=!0}p("body").addClass(f.plugin.options.bodyClass)},matchMediaQueries:function(l){var o=l.width();p.each(f.breakpoints,function(e,t){var i=t.hasBeenDeleted,s=e,n=t.px;t.type;if(t.maxWidth&&t.minWidth){i||t.deletedFromStylesheet.deleteRule(t.deletedRulePosition),t.hasBeenDeleted=!0;var a=Math.max.apply(null,n);Math.min.apply(null,n)<o&&o<a?l.hasClass(s)||l.addClass(s):l.removeClass(s)}else t.maxWidth?o<n?l.hasClass(s)||l.addClass(s):n<o&&l.removeClass(s):t.minWidth&&(i||t.deletedFromStylesheet.deleteRule(t.deletedRulePosition),t.hasBeenDeleted=!0,n<o?l.hasClass(s)||l.addClass(s):o<n&&l.removeClass(s))}),f.onWindowResize&&p(e).trigger("resize"),p(a).trigger(r+".matchMediaQueries",l)},unsetQueries:function(){p("body").removeClass(f.plugin.options.bodyClass),p.each(f.breakpoints,function(e,t){t.px,t.type;t.hasBeenDeleted&&(t.deletedFromStylesheet.insertRule(t.deletedRule.cssText,t.addRulePosition),t.hasBeenDeleted=!1,f.iframes.removeClass(e))}),f.styleElement.text("")},resetQueries:function(){f.hasSetBreakpoints=!1,f.mediaQueryRules=!1,f.breakpoints={}},destroy:function(){f.plugin.unsetQueries(),f.plugin.resetQueries(),f.plugin.resetStyle(f.iframes)},setIframeSize:function(e,t){var s=!1,n=!1,i=f.iframes;e&&(e.width&&(s=e.width),e.height&&(n=e.height)),t&&0<t.length&&p(t).is(p(f.plugin.options.containerSelector))&&(i=t),(s||n)&&p.each(i,function(e,t){var i=p(t);s&&i.width(s),n&&i.height(n),f.plugin.matchMediaQueries(i)})},resetIframesSize:function(e){var t=f.iframes;e&&p(e).is(p(f.plugin.options.containerSelector))&&(t=e),p.each(t,function(e,t){var i=p(t);f.plugin.resetStyle(i),f.plugin.matchMediaQueries(i)})},resetStyle:function(e){p.each(e,function(e,t){p(t).attr("style","")})},resetAttribute:function(e,i){p.each(e,function(e,t){$el=p(t),$el.attr(i,"false")})}}),p.fn[r]=function(e){if("string"==typeof e){var t,i=e,s=Array.prototype.slice.call(arguments,1),n=Array.prototype.slice.call(arguments,2);return this.each(function(){if(!p.data(this,"plugin_"+r)||"function"!=typeof p.data(this,"plugin_"+r)[i])throw new Error("Method "+i+" does not exist on jQuery."+r);t=p.data(this,"plugin_"+r)[i].apply(this,s,n)}),void 0!==t?t:this}if("object"==typeof e||!e)return this.each(function(){p.data(this,"plugin_"+r)||p.data(this,"plugin_"+r,new l(this,e))})}}(jQuery,window,document);
//# sourceMappingURL=iframeify.min.js.map