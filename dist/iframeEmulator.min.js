!function(p,e,n,t){var a="iframeEmulator",i={containerSelector:".ifem-iframe",classPrefix:"ifem",stylesheetClass:!1,bodyClass:"ifem-active"},c={breakpoints:{},hasSetBreakpoints:!1,mediaQueryRules:!1,iframes:[],stylesheets:[],styleClass:"ifem-styles",styleElement:[],eventNameSpace:"plugin_"+a,plugin:!1,pluginElement:!1};function l(e,t){this.element=e,this.$element=p(e),this.options=p.extend({},i,t),this._defaults=i,this._name=a,this.init()}p.extend(l.prototype={init:function(){var s;if(this&&this.options)s=this;else{if(!c.plugin||!c.plugin.options)throw new Error("No plugin object found");s=c.plugin}s.options.classPrefix;var e=p(s.options.containerSelector);c.iframes=e,c.classPrefix=s.options.classPrefix,c.styleClass=s.options.classPrefix+"-styles",c.plugin=s,c.pluginElement=this.$element;var t=n.styleSheets;if(s.options.stylesheetClass){var i=s.options.stylesheetClass,a=p.map(t,function(e,t){if(p(e.ownerNode).hasClass(i))return e});c.stylesheets=a}s.setMediaQueries(s),p.each(c.iframes,function(e,t){var i=p(t);s.initIframe(i,s)})},initIframe:function(t,i){t.on("mousedown."+c.eventNameSpace,function(e){p(n).on("mousemove."+c.eventNameSpace,function(){i.matchIframeWithMediaQuery(t)}),p(n).on("mouseup."+c.eventNameSpace,function(){p(n).off("mousemove."+c.eventNameSpace)})}),i.matchIframeWithMediaQuery(t)},setMediaQueries:function(e){if(c.styleElement.length<1){var t=p("<style></style>").addClass(c.styleClass);p(n).find("head").append(t),c.styleElement=t}if(c.hasSetBreakpoints&&c.mediaQueryRules)c.styleElement.append(c.mediaQueryRules);else if(!c.hasSetBreakpoints&&!c.mediaQueryRules){var i=c.stylesheets,f="";p.each(i,function(h,u){u.cssRules.length;var m=0;p.each(u.cssRules,function(e,t){if(0,t.media){var i=c.classPrefix+"-ss"+h+"r"+e,s="",a="."+i;p.each(t.cssRules,function(e,t){s=s+""+a+" "+t.cssText}),f+=s,c.styleElement.append(s);var n=t.media[0].match(/[0-9]+/g);n=p.map(n,Number);var l=t,o=e,r=o-m,d=u;c.breakpoints[i]={maxWidth:!1,minWidth:!1,deletedRule:l,deletedRulePosition:r,addRulePosition:o,deletedFromStylesheet:d,px:n},-1<t.media[0].indexOf("max-width")&&-1<t.media[0].indexOf("min-width")?(c.breakpoints[i].maxWidth=!0,c.breakpoints[i].minWidth=!0,m++):-1<t.media[0].indexOf("max-width")?c.breakpoints[i].maxWidth=!0:-1<t.media[0].indexOf("min-width")&&(c.breakpoints[i].minWidth=!0,m++)}})}),c.mediaQueryRules=f,c.hasSetBreakpoints=!0}p("body").addClass(c.plugin.options.bodyClass)},matchIframeWithMediaQuery:function(l){var o=l.width();p.each(c.breakpoints,function(e,t){var i=t.hasBeenDeleted,s=e,a=t.px;t.type;if(t.maxWidth&&t.minWidth){i||t.deletedFromStylesheet.deleteRule(t.deletedRulePosition),t.hasBeenDeleted=!0;var n=Math.max.apply(null,a);Math.min.apply(null,a)<o&&o<n?l.hasClass(s)||l.addClass(s):l.removeClass(s)}else t.maxWidth?o<a?l.hasClass(s)||l.addClass(s):a<o&&l.removeClass(s):t.minWidth&&(i||t.deletedFromStylesheet.deleteRule(t.deletedRulePosition),t.hasBeenDeleted=!0,a<o?l.hasClass(s)||l.addClass(s):o<a&&l.removeClass(s))})},unsetAll:function(){p("body").removeClass(c.plugin.options.bodyClass),p.each(c.breakpoints,function(e,t){t.px,t.type;t.hasBeenDeleted&&(t.deletedFromStylesheet.insertRule(t.deletedRule.cssText,t.addRulePosition),t.hasBeenDeleted=!1,c.iframes.removeClass(e),c.plugin.resetStyle(c.iframes))}),c.styleElement.text("")},setIframeSize:function(e){var s=!1,a=!1;e&&(e.width&&(s=e.width),e.height&&(a=e.height)),(s||a)&&p.each(c.iframes,function(e,t){var i=p(t);s&&i.width(s),a&&i.height(a),c.plugin.matchIframeWithMediaQuery(i)})},resetIframesSize:function(){p.each(c.iframes,function(e,t){var i=p(t);c.plugin.resetStyle(i),c.plugin.matchIframeWithMediaQuery(i)})},resetStyle:function(e){p.each(e,function(e,t){p(t).attr("style","")})},resetAttribute:function(e,i){p.each(e,function(e,t){$el=p(t),$el.attr(i,"false")})}}),p.fn[a]=function(e){if("string"==typeof e){var t,i=e,s=Array.prototype.slice.call(arguments,1);return this.each(function(){if(!p.data(this,"plugin_"+a)||"function"!=typeof p.data(this,"plugin_"+a)[i])throw new Error("Method "+i+" does not exist on jQuery."+a);t=p.data(this,"plugin_"+a)[i].apply(this,s)}),void 0!==t?t:this}if("object"==typeof e||!e)return this.each(function(){p.data(this,"plugin_"+a)||p.data(this,"plugin_"+a,new l(this,e))})}}(jQuery,window,document);
//# sourceMappingURL=iframeEmulator.min.js.map