!function(v,t,n,e){var l="iframeify",s={containerSelector:".ifr-iframe",classPrefix:"ifr",stylesheetClass:!1,bodyClass:"ifr-active",onWindowResize:!1},x={breakpoints:!1,hasSetBreakpoints:!1,mediaqueries:!1,hasSetMediaQueries:!1,mediaQueryRules:!1,iframes:[],stylesheets:[],styleClass:"ifr-styles",styleElement:[],eventNameSpace:"plugin_"+l,plugin:!1,pluginElement:!1,onWindowResize:!1};function r(e,i){this.element=e,this.$element=v(e),this.options=v.extend({},s,i),this._defaults=s,this._name=l,this.init()}v.extend(r.prototype={init:function(){var s;if(this&&this.options)s=this;else{if(!x.plugin||!x.plugin.options)throw new Error("No plugin object found");s=x.plugin}s.options.classPrefix;var e=v(s.options.containerSelector);x.iframes=e,x.classPrefix=s.options.classPrefix,x.onWindowResize=s.options.onWindowResize,x.styleClass=s.options.classPrefix+"-styles",x.plugin=s,x.pluginElement=this.$element,s.initStylesheets(),s.setMediaQueries(s),v.each(x.iframes,function(e,i){var t=v(i);s.initIframe(t,s)})},initStylesheets:function(){var e=n.styleSheets,t=x.plugin.options.stylesheetClass,i=e;t&&(i=v.map(e,function(e,i){if(v(e.ownerNode).hasClass(t))return e})),x.stylesheets=i},initIframe:function(i,t){var e="mousedown."+x.eventNameSpace,s="mousemove."+x.eventNameSpace,a="mouseup."+x.eventNameSpace;i.off(e).on(e,function(e){v(n).off(s).on(s,function(){t.matchMediaQueries(i)}),v(n).off(a).on(a,function(){v(n).off(s)})}),t.matchMediaQueries(i)},setMediaQueries:function(e){if(x.styleElement&&x.styleElement.length<1){var i=v("<style></style>").addClass(x.styleClass);v(n).find("head").append(i),x.styleElement=i}if(x.hasSetMediaQueries&&x.mediaQueryRules)x.styleElement.append(x.mediaQueryRules);else if(!x.hasSetMediaQueries&&!x.mediaQueryRules){var t=x.stylesheets,g="";x.breakpoints||(x.breakpoints={ranges:[],maxWidth:[],minWidth:[]}),x.mediaqueries||(x.mediaqueries={}),v.each(t,function(c,p){p.cssRules.length;var y=0;v.each(p.cssRules,function(e,i){if(0,i.media&&i.media[0]&&(-1<i.media[0].indexOf("max-width")||-1<i.media[0].indexOf("min-width"))){var t=x.classPrefix+"-ss"+c+"r"+e,a="",n="."+t;v.each(i.cssRules,function(e,i){if(i.selectorText){var t=i.selectorText.split(","),s=i.cssText.match(/\{.*\}/);v.each(t,function(e,i){a=a+" "+n+" "+i+s})}}),g+=a,x.styleElement.append(a);var s=i.media[0].match(/[0-9]+/g);s=v.map(s,Number);var r=i,o=e,l=o-y,u=p;if(x.mediaqueries[t]={maxWidth:!1,minWidth:!1,deletedRule:r,deletedRulePosition:l,addRulePosition:o,deletedFromStylesheet:u,px:s,class:t},-1<i.media[0].indexOf("max-width")&&-1<i.media[0].indexOf("min-width")){var d=s[0],m=s[1];x.mediaqueries[t].maxWidth=!0,x.mediaqueries[t].minWidth=!0;var f=d+"-"+m;x.breakpoints.ranges[f]||(x.breakpoints.ranges[f]={mediaQueries:[]}),x.breakpoints.ranges[f].mediaQueries.push(x.mediaqueries[t]),y++}else if(-1<i.media[0].indexOf("max-width")){x.mediaqueries[t].maxWidth=!0;var h=s[0];x.breakpoints.maxWidth[h]||(x.breakpoints.maxWidth[h]={mediaQueries:[]}),x.breakpoints.maxWidth[h].mediaQueries.push(x.mediaqueries[t]),y++}else if(-1<i.media[0].indexOf("min-width")){x.mediaqueries[t].minWidth=!0;h=s[0];x.breakpoints.minWidth[h]||(x.breakpoints.minWidth[h]={mediaQueries:[]}),x.breakpoints.minWidth[h].mediaQueries.push(x.mediaqueries[t]),y++}}})}),x.mediaQueryRules=g,x.hasSetMediaQueries=!0}v.each(x.mediaqueries,function(e,i){i.hasBeenDeleted||i.deletedFromStylesheet.deleteRule(i.deletedRulePosition),x.mediaqueries[e].hasBeenDeleted=!0}),v("body").addClass(x.plugin.options.bodyClass)},matchMediaQueries:function(s){var r=s.width(),o=[];v.each(x.breakpoints,function(e,i){if("maxWidth"==e)for(var t in i)r<=t&&v.each(i[t].mediaQueries,function(e,i){o.push(i)});else if("minWidth"==e)for(var t in i)t<=r&&v.each(i[t].mediaQueries,function(e,i){o.push(i)});else if("ranges"==e)for(var t in i){var s=t.split("-"),a=s[0],n=s[1];r<=a&&n<=r&&v.each(i[t].mediaQueries,function(e,i){o.push(i)})}});var e=new RegExp(x.classPrefix+"-[a-z0-9]*","g"),i=s.attr("class").replace(e,"");s.attr("class",i),v.each(o,function(e,i){i.hasBeenDeleted;var t=i.class;i.px,i.type;s.hasClass(t)||s.addClass(t)}),x.onWindowResize&&v(t).trigger("resize"),v(n).trigger(l+".matchMediaQueries",s)},unsetQueries:function(){v("body").removeClass(x.plugin.options.bodyClass),v.each(x.mediaqueries,function(e,i){i.px,i.type;if(i.hasBeenDeleted){i.deletedFromStylesheet.insertRule(i.deletedRule.cssText,i.addRulePosition),x.mediaqueries[e].hasBeenDeleted=!1;var t=new RegExp(x.classPrefix+"-[a-z0-9]*","g"),s=x.iframes.attr("class").replace(t,"");x.iframes.attr("class",s)}}),x.styleElement.text("")},resetQueries:function(){x.hasSetMediaQueries=!1,x.mediaQueryRules=!1,x.mediaqueries=!1,x.breakpoints=!1},destroy:function(){x.plugin.unsetQueries(),x.plugin.resetQueries(),x.plugin.resetStyle(x.iframes);var e="mousedown."+x.eventNameSpace,i="mousemove."+x.eventNameSpace,t="mouseup."+x.eventNameSpace;x.iframes.off(e),v(n).off(i),v(n).off(t)},setIframeSize:function(e,i){var s=!1,a=!1,t=x.iframes;e&&(e.width&&(s=e.width),e.height&&(a=e.height)),i&&0<i.length&&v(i).is(v(x.plugin.options.containerSelector))&&(t=i),(s||a)&&v.each(t,function(e,i){var t=v(i);s&&t.width(s),a&&t.height(a),x.plugin.matchMediaQueries(t)})},resetIframesSize:function(e){var i=x.iframes;e&&v(e).is(v(x.plugin.options.containerSelector))&&(i=e),v.each(i,function(e,i){var t=v(i);x.plugin.resetStyle(t),x.plugin.matchMediaQueries(t)})},resetStyle:function(e){v.each(e,function(e,i){v(i).attr("style","")})},resetAttribute:function(e,t){v.each(e,function(e,i){$el=v(i),$el.attr(t,"false")})}}),v.fn[l]=function(e){if("string"==typeof e){var i,t=e,s=Array.prototype.slice.call(arguments,1),a=Array.prototype.slice.call(arguments,2);return this.each(function(){if(!v.data(this,"plugin_"+l)||"function"!=typeof v.data(this,"plugin_"+l)[t])throw new Error("Method "+t+" does not exist on jQuery."+l);i=v.data(this,"plugin_"+l)[t].apply(this,s,a)}),void 0!==i?i:this}if("object"==typeof e||!e)return this.each(function(){v.data(this,"plugin_"+l)||v.data(this,"plugin_"+l,new r(this,e))})}}(jQuery,window,document);
//# sourceMappingURL=iframeify.min.js.map