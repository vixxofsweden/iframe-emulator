!function(c,e,a,t){var r="iframeify",i={containerSelector:".ifr-iframe",classPrefix:"ifr",stylesheetClass:!1,bodyClass:"ifr-active",onWindowResize:!1},p={breakpoints:{},hasSetBreakpoints:!1,mediaQueryRules:!1,iframes:[],stylesheets:[],styleClass:"ifr-styles",styleElement:[],eventNameSpace:"plugin_"+r,plugin:!1,pluginElement:!1,onWindowResize:!1};function o(e,t){this.element=e,this.$element=c(e),this.options=c.extend({},i,t),this._defaults=i,this._name=r,this.init()}c.extend(o.prototype={init:function(){var s;if(this&&this.options)s=this;else{if(!p.plugin||!p.plugin.options)throw new Error("No plugin object found");s=p.plugin}s.options.classPrefix;var e=c(s.options.containerSelector);p.iframes=e,p.classPrefix=s.options.classPrefix,p.onWindowResize=s.options.onWindowResize,p.styleClass=s.options.classPrefix+"-styles",p.plugin=s,p.pluginElement=this.$element,s.initStylesheets(),s.setMediaQueries(s),c.each(p.iframes,function(e,t){var i=c(t);s.initIframe(i,s)})},initStylesheets:function(){var e=a.styleSheets,i=p.plugin.options.stylesheetClass,t=e;i&&(t=c.map(e,function(e,t){if(c(e.ownerNode).hasClass(i))return e})),p.stylesheets=t},initIframe:function(t,i){var e="mousedown."+p.eventNameSpace,s="mousemove."+p.eventNameSpace,n="mouseup."+p.eventNameSpace;t.off(e).on(e,function(e){c(a).off(s).on(s,function(){i.matchMediaQueries(t)}),c(a).off(n).on(n,function(){c(a).off(s)})}),i.matchMediaQueries(t)},setMediaQueries:function(e){if(p.styleElement&&p.styleElement.length<1){var t=c("<style></style>").addClass(p.styleClass);c(a).find("head").append(t),p.styleElement=t}if(p.hasSetBreakpoints&&p.mediaQueryRules)p.styleElement.append(p.mediaQueryRules);else if(!p.hasSetBreakpoints&&!p.mediaQueryRules){var i=p.stylesheets,m="";c.each(i,function(u,h){h.cssRules.length;var f=0;c.each(h.cssRules,function(e,t){if(0,t.media&&t.media[0]&&(-1<t.media[0].indexOf("max-width")||-1<t.media[0].indexOf("min-width"))){var i=p.classPrefix+"-ss"+u+"r"+e,n="",a="."+i;c.each(t.cssRules,function(e,t){if(t.selectorText){var i=t.selectorText.split(","),s=t.cssText.match(/\{.*\}/);c.each(i,function(e,t){n=n+" "+a+" "+t+s})}}),m+=n,p.styleElement.append(n);var s=t.media[0].match(/[0-9]+/g);s=c.map(s,Number);var o=t,l=e,r=l-f,d=h;p.breakpoints[i]={maxWidth:!1,minWidth:!1,deletedRule:o,deletedRulePosition:r,addRulePosition:l,deletedFromStylesheet:d,px:s},-1<t.media[0].indexOf("max-width")&&-1<t.media[0].indexOf("min-width")?(p.breakpoints[i].maxWidth=!0,p.breakpoints[i].minWidth=!0,f++):-1<t.media[0].indexOf("max-width")?p.breakpoints[i].maxWidth=!0:-1<t.media[0].indexOf("min-width")&&(p.breakpoints[i].minWidth=!0,f++)}})}),p.mediaQueryRules=m,p.hasSetBreakpoints=!0}c("body").addClass(p.plugin.options.bodyClass)},matchMediaQueries:function(o){var l=o.width();c.each(p.breakpoints,function(e,t){var i=t.hasBeenDeleted,s=e,n=t.px;t.type;if(t.maxWidth&&t.minWidth){i||t.deletedFromStylesheet.deleteRule(t.deletedRulePosition),t.hasBeenDeleted=!0;var a=Math.max.apply(null,n);Math.min.apply(null,n)<l&&l<a?o.hasClass(s)||o.addClass(s):o.removeClass(s)}else t.maxWidth?l<n?o.hasClass(s)||o.addClass(s):n<l&&o.removeClass(s):t.minWidth&&(i||t.deletedFromStylesheet.deleteRule(t.deletedRulePosition),t.hasBeenDeleted=!0,n<l?o.hasClass(s)||o.addClass(s):l<n&&o.removeClass(s))}),p.onWindowResize&&c(e).trigger("resize"),c(a).trigger(r+".matchMediaQueries",o)},unsetQueries:function(){c("body").removeClass(p.plugin.options.bodyClass),c.each(p.breakpoints,function(e,t){t.px,t.type;t.hasBeenDeleted&&(t.deletedFromStylesheet.insertRule(t.deletedRule.cssText,t.addRulePosition),t.hasBeenDeleted=!1,p.iframes.removeClass(e))}),p.styleElement.text("")},resetQueries:function(){p.hasSetBreakpoints=!1,p.mediaQueryRules=!1,p.breakpoints={}},destroy:function(){p.plugin.unsetQueries(),p.plugin.resetQueries(),p.plugin.resetStyle(p.iframes);var e="mousedown."+p.eventNameSpace,t="mousemove."+p.eventNameSpace,i="mouseup."+p.eventNameSpace;p.iframes.off(e),c(a).off(t),c(a).off(i)},setIframeSize:function(e,t){var s=!1,n=!1,i=p.iframes;e&&(e.width&&(s=e.width),e.height&&(n=e.height)),t&&0<t.length&&c(t).is(c(p.plugin.options.containerSelector))&&(i=t),(s||n)&&c.each(i,function(e,t){var i=c(t);s&&i.width(s),n&&i.height(n),p.plugin.matchMediaQueries(i)})},resetIframesSize:function(e){var t=p.iframes;e&&c(e).is(c(p.plugin.options.containerSelector))&&(t=e),c.each(t,function(e,t){var i=c(t);p.plugin.resetStyle(i),p.plugin.matchMediaQueries(i)})},resetStyle:function(e){c.each(e,function(e,t){c(t).attr("style","")})},resetAttribute:function(e,i){c.each(e,function(e,t){$el=c(t),$el.attr(i,"false")})}}),c.fn[r]=function(e){if("string"==typeof e){var t,i=e,s=Array.prototype.slice.call(arguments,1),n=Array.prototype.slice.call(arguments,2);return this.each(function(){if(!c.data(this,"plugin_"+r)||"function"!=typeof c.data(this,"plugin_"+r)[i])throw new Error("Method "+i+" does not exist on jQuery."+r);t=c.data(this,"plugin_"+r)[i].apply(this,s,n)}),void 0!==t?t:this}if("object"==typeof e||!e)return this.each(function(){c.data(this,"plugin_"+r)||c.data(this,"plugin_"+r,new o(this,e))})}}(jQuery,window,document);
//# sourceMappingURL=iframeify.min.js.map